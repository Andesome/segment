# 如何判断 0 和 -0
## <a name="index"></a> 目录
- [场景](#situation)
- [方法](#function)
  - [思路1](#way1)
  - [思路2](#way2)
  - [思路3](#way3)
  - [思路4](#way4)
- [参考资料](#)

## <a name="situation"></a> 场景
在处理输入的时候，需要判断输入的是否是 -0，经过尝试和查找资料，发现了一些东西，在此记录。

## <a name="function"></a> 方法
最常用的比较就是用全等，先看看是什么结果。
```javascript
-0 === 0 // true
```
### <a name="way1"></a> 思路1
转换为字符串，然后比较。
```javascript
var positiveZero = 0;
var negativeZero = -0;
console.info("positiveZero",String(positiveZero)); // "0"
console.info("negativeZero",String(negativeZero)); // "0"
```
方法不行。
### <a name="way2"></a> 思路2
用除法，一个正常数除以 0 大于 0，除以 -0 小于 0。
```javascript
// 判断是否是-0
function isNegationZero(num) {
  return num===0 && (1/num<0);
}
isNegationZero(-0) // true
isNegationZero(0) // false
isNegationZero(1) // false

// 判断是否是0
function isPositiveZero(num) {
  return num===0 && (1/num>0);
}
isPositiveZero(-0) // false
isPositiveZero(0) // true
isPositiveZero(1) // false
```
方法可行。

### <a name="way3"></a> 思路3
Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回这个对象。
```javascript
  function isNegativeZero(num) {
    if (num !== 0) return false;
    var obj = {};
    // configurable 设置为 false，属性修饰符是不能改变的，默认就是 false。
    Object.defineProperty(obj, 'negativeZero', { value: -0, configurable: false });
    try {
      // 由于 configurable 是 false，所以如果不是-0，那么就会抛异常返回false
      Object.defineProperty(obj, 'negativeZero', { value: num });
    } catch (e) {
      return false
    };
    return true;
  }
```

### <a name="way3"></a> 思路4
Object.is()方法判断两个值是否是相同的值。IE 不支持这个方法，需要兼容处理。
```javascript
  function isNegativeZero (num) {
    if (Object.is) {
      return Object.is(num,-0);
    } else {
      Object.is = function(x,y) {
       if(x===y) {
        return x!==0 || 1/x===1/y;
       } else {
        // NaN===NaN 是 false
        return x!==x && y!==y;
       }
      }
      return Object.is(num,-0);
    }
  }

  console.info("Object.is",isNegativeZero(0)); // false
  console.info("Object.is",isNegativeZero(-0)); // true
  console.info("Object.is",isNegativeZero(2)); // false

```

## 参考资料
- [Object.defineProperty()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty)
- [Object.is()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is)
- [The Number Type](https://www.ecma-international.org/ecma-262/9.0/index.html#sec-ecmascript-language-types-number-type)
