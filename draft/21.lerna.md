# npm-Getting started
## 场景
最近工作上要接触相关的东西，开始熟悉文档，进行相关记录，方便以后查阅。

## 关于
Lerna 是一个通过多个包管理 JavaScript 项目的工具。

将大的代码库分成独立版本的包，对于代码共享，是非常有用的。然而，在许多存储库中进行修改，会变混乱和难以跟踪，跨库的测试，很快会变的复杂。

为了解决这些问题，一些项目将会将他们的代码库组织成多个包的存储库（有些时候称为单孔）。像 Babel, React, Angular, Ember, Meteor, Jest等气他很多项目开发他们的包都在一个库下。

**Lerna 是一个通过 git 和 npm 来优化管理多包存储库的工作流的工具。**

Lerna 也可以减少在开发和构建环境中，对许多包的副本的时间和空间的需求，通常一个项目的下载分成了很多个独立的 NPM 包。详情见 文档。
### 一个 Lerna 库看起来像什么样子？
实际上没什么。你有一个下面样子的文件系统：
```
my-lerna-repo/
  package.json
  packages/
    package-1/
      package.json
    package-2/
      package.json
```

### Lerna 能做什么？
Lerna 两个基本的的命令是 `lerna bootstrap` 和 `lerna publish`。

`bootstrap` 会将库中的依赖联系起来。
`publish` 将发布任何更新的包。

## 开始
下面的介绍适用于 3.x 版本的Lerna。对于一个新项目，我们推荐使用这个版本取代 2.x 版。
让我们从通过npm安装 Lerna 作为你项目 dev 依赖开始。
```sh
$ mkdir lerna-repo && cd $_
$ npx lerna init
```
这将会创建一个 `lerna.json` 配置文件和一个 `package` 文件夹
，所以你的文件夹现在看起来应该是这样的：
```
lerna-repo/
  packages/
  package.json
  lerna.json
```

## 它是如何运作
Lerna 允许你管理你的项目，使用两种模式中的一种：Fixed 或者 Independent。
### Fixed/Locked mode (default)
Fixed 模式

### 安装
强烈建议用 Node 版本管理工具来安装 Node.js 和 npm。不要使用 Node 安装工具，因为 Node 安装进程安装 npm 需要本地文件的允许，当运行全局 npm 包的时候可能会导致权限错误。
**检查npm Node的版本**
```shell
node -v
npm -v
```
**使用 Node 版本管理工具来安装 Node.js 和 npm**
Node 版本管理允许你在你自己环境上，安装和切换不同版本的 Node.js 和 npm。这样就能够测试不同的版本，确保它们在不同用户版本上正常运作。

OSX、Linux Node 版本管理工具
- [nvm][url-nvm]
- [n][url-n]

Window Node 版本管理工具
- [nodist][url-nodist]
- [nvm-windows][url-nvm-windows]

如果无法使用版本管理工具，则使用 Node 安装工具，这是[下载页面][url-node-down]。

## 参考
- [npm help docs][url-npm-docs]

[url-orgs]:https://www.npmjs.com/features
[url-nvm]:https://github.com/creationix/nvm
[url-n]:https://github.com/tj/n
[url-nodist]:https://github.com/nullivex/nodist
[url-nvm-windows]:https://github.com/coreybutler/nvm-windows
[url-node-down]:https://nodejs.org/en/download/
[url-npm-docs]:https://docs.npmjs.com/