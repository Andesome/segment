# 33.JavaScript 新旧替换二：赋值和取值
## <a name="index"></a> 目录
- [场景](#situation)
- [ES5 方式](#es5)
- [ES2015+ 方式](#es2015)
  - [let 声明](#let)
  - [const 声明](#const)
- [选择那种方式？](#which)
- [参考资料](#reference)

## <a name="situation"></a> 场景
这是继[JavaScript 新旧替换一][url-segment-16]的第二篇。这里主要是关于 Object 和 Array 的赋值和取值。

## <a name="es5"></a> ES5 方式
### Object
Object 类型一般可以这样赋值：
```javascript
var boy = { name: "Jack",age: 18 };
// 或者这样
var girl = {};
girl.name = "Rose";
girl.age = 18;
```
Object 类型一般可以这样取值：
```javascript
var boy = { name: "Jack",age: 18 };
var name = boy.name;
var age = boy['age'];
```

### Array
Array 类型一般可以这样赋值：
```javascript
var colors = new Array("red", "blue", "green");
// 或者这样
var fruit = ['apple','banana','peach'];
// 或者这样
var flower = [];
flower[0] = 'rose';
flower[1] = 'carnation';
flower[2] = 'tulip';
```
Array 类型一般可以这样取值：
```javascript
var colors = new Array("red", "blue", "green");
var color1 = colors[0];
```

## <a name="es2015"></a> ES2015+ 方式
在 ES2015 中引入了一个新的语法特性，名为解构（destructuring）。它可以从对象或数组中提取值，然后对变量进行赋值。简化了取值和赋值的代码。看下面的例子。

ES5 方式：
```javascript
function getPersonInfo () {
  return { name: 'Jack',age: 18 };
}
var message = getPersonInfo();
var personName = message.name,personAge = message.age;
console.info(personName,personAge); // Jack 18
```
使用解构：
```javascript
function getPersonInfo () {
  return { name: 'Jack',age: 18 };
}
let { name:name,age:age } = getPersonInfo();
console.info(name,age); // Jack 18
```

### Object 解构
在上面的例子中，如果使用的变量名跟对象中的属性名一样，可以写的更加简洁：
```javascript
let { name,age } = getPersonInfo();
console.info(name,age); // Jack 18
```
对比简化之前的形式，是省略了 `name:` 还是省略了 `:name`？


### Array 解构
```javascript
function getColors() {
  return ["red", "blue", "green"];
}
let [color1,color2,color3] = getColors();
console.info(color1,color2,color3); // red blue green
```



## <a name="reference"></a> 参考资料
- [ECMAScript Standard][url-ecma-standard]
- [JavaScript高级程序设计（第3版） ][url-javascript-design]
- [你不知道的JavaScript（下卷） ][url-unknow-javascript-3]
- [ECMAScript 6 入门][url-es6-ruanyifeng]


[url-ecma-standard]:http://www.ecma-international.org/publications/standards/Ecma-262.htm
[url-javascript-design]:http://www.ituring.com.cn/book/946
[url-unknow-javascript-3]:http://www.ituring.com.cn/book/1666
[url-es6-ruanyifeng]:http://es6.ruanyifeng.com/


[url-segment-16]:https://github.com/XXHolic/segment/issues/16


